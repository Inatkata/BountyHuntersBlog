@model BountyHuntersBlog.ViewModels.Missions.MissionIndexViewModel
@{
    var totalPages = (int)Math.Ceiling((double)Model.TotalCount / Model.PageSize);
    if (totalPages <= 1) { return; }
    int prev = Math.Max(1, Model.Page - 1);
    int next = Math.Min(totalPages, Model.Page + 1);
}

<nav>
    <ul class="pagination">
        <li class="page-item @(Model.Page == 1 ? "disabled" : "")">
            <a class="page-link"
               asp-action="Index"
               asp-route-search="@Model.Search"
               asp-route-categoryId="@Model.CategoryId"
               asp-route-tagId="@Model.TagId"
               asp-route-page="@prev"
               asp-route-pageSize="@Model.PageSize">Prev</a>
        </li>

        @for (int p = 1; p <= totalPages; p++)
        {
            <li class="page-item @(p == Model.Page ? "active" : "")">
                <a class="page-link"
                   asp-action="Index"
                   asp-route-search="@Model.Search"
                   asp-route-categoryId="@Model.CategoryId"
                   asp-route-tagId="@Model.TagId"
                   asp-route-page="@p"
                   asp-route-pageSize="@Model.PageSize">@p</a>
            </li>
        }

        <li class="page-item @(Model.Page == totalPages ? "disabled" : "")">
            <a class="page-link"
               asp-action="Index"
               asp-route-search="@Model.Search"
               asp-route-categoryId="@Model.CategoryId"
               asp-route-tagId="@Model.TagId"
               asp-route-page="@next"
               asp-route-pageSize="@Model.PageSize">Next</a>
        </li>
    </ul>
</nav>