@model BountyHuntersBlog.ViewModels.Shared.PaginationViewModel
@{
    var totalPages = (int)Math.Ceiling((double)Model.TotalCount / Math.Max(1, Model.PageSize));
    if (totalPages < 2) { return; }

    // текущите query-та
    var current = Html.ViewContext.HttpContext.Request.Query
        .ToDictionary(kvp => kvp.Key, kvp => (string?)kvp.Value);

    // добавяме RouteValues от VM (ако има)
    if (Model.RouteValues != null)
        foreach (var p in Model.RouteValues)
            current[p.Key] = p.Value;

    // TagHelper-ът иска IDictionary<string,string>
    var route = current
        .Where(kv => kv.Value != null)
        .ToDictionary(kv => kv.Key, kv => kv.Value!);
}
<nav aria-label="pagination">
    <ul class="pagination mt-3">
        @for (int p = 1; p <= totalPages; p++)
        {
            route["page"] = p.ToString();
            <li class="page-item @(p == Model.Page ? "active" : "")">
                <a class="page-link"
                   asp-controller="@Model.Controller"
                   asp-action="@Model.Action"
                   asp-all-route-data="route">@p</a>
            </li>
        }
    </ul>
</nav>