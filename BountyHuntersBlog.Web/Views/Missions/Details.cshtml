@model BountyHuntersBlog.ViewModels.Missions.MissionDetailsViewModel
@{
    ViewData["Title"] = Model.Title;
}
<h2>@Model.Title</h2>
<p class="text-muted">Category: @Model.CategoryName</p>
<p>@Model.Description</p>

<form asp-action="ToggleMissionLike" method="post" class="mb-3">
    <input type="hidden" name="id" value="@Model.Id" />
    <button type="submit" class="btn btn-outline-primary btn-sm">
        üëç Like (@Model.LikesCount)
    </button>
</form>

<h4>Comments (@Model.CommentsCount)</h4>
<partial name="_CommentsList" model="Model.Comments" />

@if (User.Identity.IsAuthenticated)
{
    <form asp-action="AddComment" method="post" class="mt-3">
        <input type="hidden" name="MissionId" value="@Model.Id" />
        <div class="mb-3">
            <textarea name="Content" class="form-control" rows="3" placeholder="Write a comment..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Post Comment</button>
    </form>
}
