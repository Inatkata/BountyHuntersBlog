@* Areas/Admin/Views/AdminMissions/Details.cshtml *@
@model BountyHuntersBlog.Services.DTOs.MissionDto
@{
    ViewData["Title"] = "Mission Details";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<a class="btn btn-link p-0 mb-2" asp-area="Admin" asp-controller="AdminMissions" asp-action="Index">← Back to list</a>
<h2>Mission Details</h2>
<hr />
<dl class="row">
    <dt class="col-sm-2">Title</dt>
    <dd class="col-sm-10">@Model.Title</dd>

    <dt class="col-sm-2">Description</dt>
    <dd class="col-sm-10">@Model.Description</dd>

    <dt class="col-sm-2">Category</dt>
    <dd class="col-sm-10">
        @(string.IsNullOrWhiteSpace(Model.CategoryName) ? Model.CategoryId.ToString() : Model.CategoryName)
    </dd>

    <dt class="col-sm-2">Tags</dt>
    <dd class="col-sm-10">
        @{
            var tagNames = (Model.TagNames ?? Enumerable.Empty<string>()).ToList();
            if (tagNames.Any())
            {
                foreach (var tn in tagNames)
                {
                    <span class="badge bg-secondary me-1">@tn</span>
                }
            }
            else if (Model.TagIds?.Any() == true)
            {
                foreach (var id in Model.TagIds)
                {
                    <span class="badge bg-secondary me-1">#@id</span>
                }
            }
            else
            {
                <span class="text-muted">No tags</span>
            }
        }
    </dd>

    <dt class="col-sm-2">Completed</dt>
    <dd class="col-sm-10">
        @if (Model.IsCompleted)
        {
            <span class="badge bg-success">Yes</span>
        }
        else
        {

            <span class="badge bg-warning text-dark">No</span>
        }
    </dd>
</dl>

<div class="d-flex gap-2">
    <a asp-area="Admin" asp-controller="AdminMissions" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
    <form method="post" asp-area="Admin" asp-controller="AdminMissions" asp-action="Delete" asp-route-id="@Model.Id" class="d-inline">
        @Html.AntiForgeryToken()
        <button type="submit" class="btn btn-danger" onclick="return confirm('Delete this mission?');">Delete</button>
    </form>
    <a asp-area="Admin" asp-controller="AdminMissions" asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>
